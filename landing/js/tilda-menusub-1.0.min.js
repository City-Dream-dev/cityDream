function t_menusub_init(u){var t,s,o,e=document.getElementById("rec"+u);e&&(t=e.querySelectorAll(".t-menusub"),e=e.querySelectorAll("a.t-menu__link-item"),s=Array.prototype.some.call(e,function(t){return t.getAttribute("data-menu-submenu-hook")}),o=window.t_menusub__isMobile?"orientationchange":"resize",Array.prototype.forEach.call(t,function(t){var e,n=t.getAttribute("data-submenu-hook");n&&(n=document.querySelectorAll(s?'a[data-menu-submenu-hook="'+n+'"]':'a[href="'+n+'"]'),Array.prototype.forEach.call(n,function(t){t.classList.add("t-menusub__target-link"),t.setAttribute("data-tooltip-menu-id",u)}),e=t.querySelector(".t-menusub__menu"),t_menusub__appendArrow(t,n),window.t_menusub__isMobile||"ontouchend"in document?t_menusub__setUpMenuMobile(t,e,n,u):t_menusub__setUpMenuDesktop(t,e,n),t_menusub__hightlight(),t_menusub__checkAnchorLinks(u),window.addEventListener(o,function(){e&&t_menusub__hideSubmenu(e)}))}))}function t_menusub__setUpMenuDesktop(t,n,e){var u,s=t.getAttribute("data-submenu-margin");Array.prototype.forEach.call(e,function(e){e.addEventListener("mouseover",function(){t_menusub__showSubmenuOnHover(e,u,n,s)}),e.addEventListener("mouseout",function(){u=setTimeout(function(){t_menusub__hideSubmenu(n)},300)});["click","auxclick"].forEach(function(t){e.addEventListener(t,function(t){t.preventDefault()})})}),n.addEventListener("mouseover",function(){t_menusub__showSubmenuOnHover(n,u,n,s)}),n.addEventListener("mouseout",function(){u=setTimeout(function(){t_menusub__hideSubmenu(n)},300)})}function t_menusub__setUpMenuMobile(n,u,t,s){Array.prototype.forEach.call(t,function(e){e.addEventListener("click",function(t){t.preventDefault(),980<window.innerWidth&&u&&t_menusub__hideSubmenu(u),u.classList.contains("t-menusub__menu_show")?t_menusub__hideSubmenu(u):(t=n.getAttribute("data-submenu-margin"),t_menusub__showSubmenu(e,u,t),t_menusub__showME401Submenu(e))})}),document.addEventListener("click",function(t){var e=t.target.closest(".t-menusub__menu"),n=t.target.closest(".t-menusub__target-link");t.target.closest(".t794__tm-link, .t966__tm-link")||(n&&n.getAttribute("data-tooltip-menu-id")!==s&&u.classList.contains("t-menusub__menu_show")&&t_menusub__hideSubmenu(u),e||n||!u.classList.contains("t-menusub__menu_show")||t_menusub__hideSubmenu(u))})}function t_menusub__showSubmenuOnHover(t,e,n,u){t.classList.contains("t-menusub__menu")&&!t.classList.contains("t-menusub__menu_show")||(clearTimeout(e),t.classList.contains("t-menusub__menu")&&t.classList.contains("t-menusub__menu_show")||t_menusub__showSubmenu(t,n,u))}function t_menusub__showSubmenu(t,e,n){var u=t.offsetHeight,s=t.offsetWidth,o=t&&parseInt(t.style.marginLeft)||0,i=t?window.getComputedStyle(t).getPropertyValue("margin-top"):"0",r=window.innerHeight,a=window.innerWidth,_=window.pageYOffset,n=n?parseInt(n,10)+10:0,i=t.offsetTop-parseInt(i,10)+u+n,c=t_menusub__getLeftRelativePos(t),l=(e.style.display="block",e.offsetHeight),m=e.offsetWidth,r=(_+r<i+l?(i=Math.max(i-l-u-2*n,_),e.classList.remove("t-menusub__menu_bottom"),e.classList.add("t-menusub__menu_top")):(e.classList.remove("t-menusub__menu_top"),e.classList.add("t-menusub__menu_bottom")),window.innerWidth<=980&&(i=0),t.getBoundingClientRect().left),l=0,u=0,n=(n=t.closest(".r")?t.closest(".r").id:"").replace("rec",""),_=document.getElementById("nav"+n),n=_?_.getBoundingClientRect().left:0;c+m/2<a?(c=c+(s-m)/2+o)<0?(u=(r-=n)+s/2-20-(l=c=10),e.classList.add("t-menusub__menu-custompos"),e.style.setProperty("--custom-pos",u+"px")):e.classList.remove("t-menusub__menu-custompos"):c=a-m-10,e.style.right="",e.style.left=c+"px",e.style.top=i+"px",e.offsetHeight,e.classList.add("t-menusub__menu_show"),t.classList.add("t-menusub__target-link_active"),e.getBoundingClientRect().right>window.innerWidth&&(e.style.left="",e.style.right="0",e.classList.add("t-menusub__menu-custompos"),l=e.getBoundingClientRect().left,e.style.setProperty("--custom-pos",(u=r+s/2-20-l)+"px"))}function t_menusub__getLeftRelativePos(t){var e=0;if("fixed"===window.getComputedStyle(t).getPropertyValue("position"))n=t.getBoundingClientRect().left;else{for(var n=t.getClientRects().length?t.getBoundingClientRect().left:0,u=t.offsetParent;u&&1===u.nodeType&&"static"===window.getComputedStyle(u).getPropertyValue("position");)u=u.offsetParent;u&&u!==t&&1===u.nodeType&&(e=u.getClientRects().length?u.getBoundingClientRect().left:0)}return n-e}function t_menusub__hideSubmenu(t){var e=document.querySelector(".t-menusub__target-link_active");e&&e.classList.remove("t-menusub__target-link_active"),t.style.display="",t.style.left="",t.style.top="",t.classList.remove("t-menusub__menu_show"),t_menusub__hideME401Submenu(t)}function t_menusub__appendArrow(t,e){var n;t.getAttribute("data-add-submenu-arrow")&&((n=document.createElement("div")).classList.add("t-menusub__arrow"),Array.prototype.forEach.call(e,function(t){t.insertAdjacentElement("beforeend",n)}))}function t_menusub__hightlight(){var t=window.location.href,e=window.location.pathname,t=(""===(e="/"===e.charAt(0)?e.slice(1):e)&&(e="/"),document.querySelectorAll('.t-menusub__list-item a[href="'+t+'"], .t-menusub__list-item a[href="'+t+'/"], .t-menusub__list-item a[href="'+e+'"], .t-menusub__list-item a[href="/'+e+'"], .t-menusub__list-item a[href="'+e+'/"], .t-menusub__list-item a[href="/'+e+'/"]'));Array.prototype.forEach.call(t,function(t){t.classList.add("t-active")})}function t_menusub__showME401Submenu(t){var e,n,t=t.closest(".t280"),u=t?t.querySelector(".t280__menu__wrapper"):null;u&&(n=t_menusub__isMobileME401(t),e=u.getAttribute("data-submenu-static"),u.classList.contains("t280__menu_static")&&u.setAttribute("data-submenu-static","n"),"n"===e&&n&&!u.classList.contains("t280__menu_static")&&(e=t.querySelector(".t280__menu"),n=t.querySelector(".t280__bottom"),e&&(e.style.transition="none"),n&&(n.style.transition="none"),u&&u.classList.add("t280__menu_static")))}function t_menusub__hideME401Submenu(t){var e,n,u,t=t.closest(".t280");t&&(e=t_menusub__isMobileME401(t),u=(n=t.querySelector(".t280__menu__wrapper"))?n.getAttribute("data-submenu-static"):"",t=t.querySelectorAll(".t280__menu .t-menusub__menu_show"),"n"===u&&window.t_menusub__isMobile&&e&&!t.length&&n.classList.contains("t280__menu_static")&&n.classList.remove("t280__menu_static"))}function t_menusub__isMobileME401(t){var e=t.querySelector(".t280__menu"),n=t.querySelector(".t280__bottom"),t=t.querySelector(".t280__container"),e=e?e.offsetHeight:0,n=n?n.offsetHeight:0,t=t?t.offsetHeight:0;return window.innerHeight-n-t-40<e}function t_menusub__checkAnchorLinks(t){var t=document.getElementById("rec"+t);!t||window.innerWidth<980||(t=t.querySelectorAll('a[href*="#"].t-menusub__link-item'),(t=Array.prototype.filter.call(t,function(t){return!t.classList.contains("tooltipstered")})).length&&t_menusub__catchScroll(t))}function t_menusub__catchScroll(u){u=Array.prototype.slice.call(u);var s=null,n=[],o={};(u=u.reverse()).forEach(function(t){var e=t_menusub__getSectionByHref(t);e&&e.id&&(n.push(e),o[e.id]=t)}),t_menusub__updateSectionsOffsets(n),n.sort(function(t,e){t=parseInt(t.getAttribute("data-offset-top"),10)||0;return(parseInt(e.getAttribute("data-offset-top"),10)||0)-t}),window.addEventListener("resize",t_throttle(function(){t_menusub__updateSectionsOffsets(n)},200)),t_menusub__highlightNavLinks(u,n,o,s),setTimeout(function(){t_menusub__updateSectionsOffsets(n),t_menusub__highlightNavLinks(u,n,o,s)},1e3),u.forEach(function(e,n){e.addEventListener("click",function(){var t=t_menusub__getSectionByHref(e);!e.classList.contains("tooltipstered")&&t&&t.id&&(u.forEach(function(t,e){e===n?t.classList.add("t-active"):t.classList.remove("t-active")}),s=t.id)})}),window.addEventListener("scroll",t_throttle(function(){s=t_menusub__highlightNavLinks(u,n,o,s)},100))}function t_menusub__getSectionByHref(t){var e,n;if(t)return n=t.getAttribute("href"),e=n?n.replace(/\s+/g,""):"",0===e.indexOf("/")&&(e=e.slice(1)),n&&t.matches('[href*="#rec"]')?(e=e.replace(/.*#/,""),document.getElementById(e)):(n='.r[data-record-type="215"] a[name="'+(t="number"==typeof(e=-1!==(t=n?n.trim():"").indexOf("#")&&t.indexOf("#"))||"number"==typeof(e=-1!==t.indexOf("/")&&t.indexOf("/"))?t.slice(e+1):t)+'"]',document.querySelector(n)?document.querySelector(n).closest(".r"):null)}function t_menusub__highlightNavLinks(t,e,n,u){var s=window.pageYOffset,o=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),i=u,r=e.length?e[e.length-1]:null,r=r?r.getAttribute("data-offset-top"):"0",r=parseInt(r,10)||0;if(e.length&&null===u&&s+300<r)return t.forEach(function(t){t.classList.remove("t-active")}),null;for(var a=0;a<e.length;a++){var _=e[a].getAttribute("data-offset-top"),c=e[a].id?n[e[a].id]:null;if(_<=s+300||0===a&&s>=o-window.innerHeight){null===u&&c&&!c.classList.contains("t-active")?(t.forEach(function(t){t.classList.remove("t-active")}),c&&c.classList.add("t-active"),i=null):null!==u&&e[a].id&&u===e[a].id&&(i=null);break}}return i}function t_menusub__updateSectionsOffsets(t){t.forEach(function(t){var e=t.getBoundingClientRect().top+window.pageYOffset;t.setAttribute("data-offset-top",e)})}window.t_menusub__isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}return null});